
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learning How to Program in SAS">
      
      
      
        <meta name="author" content="LucÃ­a Rodrigo Insausti">
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.6.2">
    
    
      
        <title>The Essentials - SAS Manual</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-e2807e330f.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/prism-sas.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="SAS Manual" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            The Essentials
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    SAS Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Gettin' Started!" class="md-nav__link">
      Gettin' Started!
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        The Essentials
      </label>
    
    <a href="./" title="The Essentials" class="md-nav__link md-nav__link--active">
      The Essentials
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-sas-programming" title="Getting Started with SAS Programming" class="md-nav__link">
    Getting Started with SAS Programming
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-sas-programs" title="Working with SAS Programs" class="md-nav__link">
    Working with SAS Programs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-data" title="Accessing Data" class="md-nav__link">
    Accessing Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-sas-libraries" title="Accessing SAS libraries" class="md-nav__link">
    Accessing SAS libraries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examining-sas-data-sets" title="Examining SAS Data Sets" class="md-nav__link">
    Examining SAS Data Sets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#producing-detailed-reports" title="Producing Detailed Reports" class="md-nav__link">
    Producing Detailed Reports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subsetting-report-data" title="Subsetting Report Data" class="md-nav__link">
    Subsetting Report Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-and-grouping-report-data" title="Sorting and Grouping Report Data" class="md-nav__link">
    Sorting and Grouping Report Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhancing-reports" title="Enhancing Reports" class="md-nav__link">
    Enhancing Reports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatting-data-values" title="Formatting Data Values" class="md-nav__link">
    Formatting Data Values
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-sas-formats" title="Using SAS Formats" class="md-nav__link">
    Using SAS Formats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-applying-user-defined-formats" title="Creating and Applying User-Defined Formats" class="md-nav__link">
    Creating and Applying User-Defined Formats
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-sas-data-sets" title="Reading SAS Data Sets" class="md-nav__link">
    Reading SAS Data Sets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing-a-sas-data-set" title="Customizing a SAS Data Set" class="md-nav__link">
    Customizing a SAS Data Set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-permanent-attributes" title="Adding Permanent Attributes" class="md-nav__link">
    Adding Permanent Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-spreadsheet-and-database-data" title="Reading Spreadsheet and Database Data" class="md-nav__link">
    Reading Spreadsheet and Database Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading-spreadsheet-data" title="Reading Spreadsheet Data" class="md-nav__link">
    Reading Spreadsheet Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-database-data" title="Reading Database Data" class="md-nav__link">
    Reading Database Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-raw-data-files" title="Reading Raw Data Files" class="md-nav__link">
    Reading Raw Data Files
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-reading-raw-data-files" title="Introduction to Reading Raw Data Files" class="md-nav__link">
    Introduction to Reading Raw Data Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-standard-delimited-data" title="Reading Standard Delimited Data" class="md-nav__link">
    Reading Standard Delimited Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-nonstandard-delimited-data" title="Reading Nonstandard Delimited Data" class="md-nav__link">
    Reading Nonstandard Delimited Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-data" title="Validating Data" class="md-nav__link">
    Validating Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulating-data" title="Manipulating Data" class="md-nav__link">
    Manipulating Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-sas-functions" title="Using SAS Functions" class="md-nav__link">
    Using SAS Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-processing" title="Conditional Processing" class="md-nav__link">
    Conditional Processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-sas-data-sets" title="Combining SAS Data Sets" class="md-nav__link">
    Combining SAS Data Sets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concatenating-data-sets" title="Concatenating Data Sets" class="md-nav__link">
    Concatenating Data Sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-one-to-one" title="Merging SAS Data Sets One-to-One" class="md-nav__link">
    Merging SAS Data Sets One-to-One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-one-to-many" title="Merging SAS Data Sets One-to-Many" class="md-nav__link">
    Merging SAS Data Sets One-to-Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-that-have-non-matches" title="Merging SAS Data Sets that Have Non-Matches" class="md-nav__link">
    Merging SAS Data Sets that Have Non-Matches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-summary-reports" title="Creating Summary Reports" class="md-nav__link">
    Creating Summary Reports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-proc-freq-to-create-summary-reports" title="Using PROC FREQ to Create Summary Reports" class="md-nav__link">
    Using PROC FREQ to Create Summary Reports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-proc-freq-for-data-validation" title="Using PROC FREQ for Data Validation" class="md-nav__link">
    Using PROC FREQ for Data Validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-means-and-univariate-procedures" title="Using the MEANS and UNIVARIATE Procedures" class="md-nav__link">
    Using the MEANS and UNIVARIATE Procedures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-sas-output-delivery-system" title="Using the SAS Output Delivery System" class="md-nav__link">
    Using the SAS Output Delivery System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Basic Statistics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Basic Statistics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/introduction/" title="Introduction to Statistics" class="md-nav__link">
      Introduction to Statistics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/anova/" title="Analysis of Variance (ANOVA)" class="md-nav__link">
      Analysis of Variance (ANOVA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/regression/" title="Regression" class="md-nav__link">
      Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/inference/" title="Model Post-Fitting for Inference" class="md-nav__link">
      Model Post-Fitting for Inference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/categorical-data/" title="Categorical Data Analysis" class="md-nav__link">
      Categorical Data Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../statistics/prediction/" title="Model Building and Scoring for Prediction" class="md-nav__link">
      Model Building and Scoring for Prediction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../missing_data/" title="Dealing with Missing Data" class="md-nav__link">
      Dealing with Missing Data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../macros/" title="Using Macros" class="md-nav__link">
      Using Macros
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-sas-programming" title="Getting Started with SAS Programming" class="md-nav__link">
    Getting Started with SAS Programming
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-sas-programs" title="Working with SAS Programs" class="md-nav__link">
    Working with SAS Programs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-data" title="Accessing Data" class="md-nav__link">
    Accessing Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-sas-libraries" title="Accessing SAS libraries" class="md-nav__link">
    Accessing SAS libraries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examining-sas-data-sets" title="Examining SAS Data Sets" class="md-nav__link">
    Examining SAS Data Sets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#producing-detailed-reports" title="Producing Detailed Reports" class="md-nav__link">
    Producing Detailed Reports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subsetting-report-data" title="Subsetting Report Data" class="md-nav__link">
    Subsetting Report Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-and-grouping-report-data" title="Sorting and Grouping Report Data" class="md-nav__link">
    Sorting and Grouping Report Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhancing-reports" title="Enhancing Reports" class="md-nav__link">
    Enhancing Reports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatting-data-values" title="Formatting Data Values" class="md-nav__link">
    Formatting Data Values
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-sas-formats" title="Using SAS Formats" class="md-nav__link">
    Using SAS Formats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-applying-user-defined-formats" title="Creating and Applying User-Defined Formats" class="md-nav__link">
    Creating and Applying User-Defined Formats
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-sas-data-sets" title="Reading SAS Data Sets" class="md-nav__link">
    Reading SAS Data Sets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing-a-sas-data-set" title="Customizing a SAS Data Set" class="md-nav__link">
    Customizing a SAS Data Set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-permanent-attributes" title="Adding Permanent Attributes" class="md-nav__link">
    Adding Permanent Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-spreadsheet-and-database-data" title="Reading Spreadsheet and Database Data" class="md-nav__link">
    Reading Spreadsheet and Database Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reading-spreadsheet-data" title="Reading Spreadsheet Data" class="md-nav__link">
    Reading Spreadsheet Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-database-data" title="Reading Database Data" class="md-nav__link">
    Reading Database Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-raw-data-files" title="Reading Raw Data Files" class="md-nav__link">
    Reading Raw Data Files
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-reading-raw-data-files" title="Introduction to Reading Raw Data Files" class="md-nav__link">
    Introduction to Reading Raw Data Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-standard-delimited-data" title="Reading Standard Delimited Data" class="md-nav__link">
    Reading Standard Delimited Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-nonstandard-delimited-data" title="Reading Nonstandard Delimited Data" class="md-nav__link">
    Reading Nonstandard Delimited Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-data" title="Validating Data" class="md-nav__link">
    Validating Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulating-data" title="Manipulating Data" class="md-nav__link">
    Manipulating Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-sas-functions" title="Using SAS Functions" class="md-nav__link">
    Using SAS Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-processing" title="Conditional Processing" class="md-nav__link">
    Conditional Processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-sas-data-sets" title="Combining SAS Data Sets" class="md-nav__link">
    Combining SAS Data Sets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concatenating-data-sets" title="Concatenating Data Sets" class="md-nav__link">
    Concatenating Data Sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-one-to-one" title="Merging SAS Data Sets One-to-One" class="md-nav__link">
    Merging SAS Data Sets One-to-One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-one-to-many" title="Merging SAS Data Sets One-to-Many" class="md-nav__link">
    Merging SAS Data Sets One-to-Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-sas-data-sets-that-have-non-matches" title="Merging SAS Data Sets that Have Non-Matches" class="md-nav__link">
    Merging SAS Data Sets that Have Non-Matches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-summary-reports" title="Creating Summary Reports" class="md-nav__link">
    Creating Summary Reports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-proc-freq-to-create-summary-reports" title="Using PROC FREQ to Create Summary Reports" class="md-nav__link">
    Using PROC FREQ to Create Summary Reports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-proc-freq-for-data-validation" title="Using PROC FREQ for Data Validation" class="md-nav__link">
    Using PROC FREQ for Data Validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-means-and-univariate-procedures" title="Using the MEANS and UNIVARIATE Procedures" class="md-nav__link">
    Using the MEANS and UNIVARIATE Procedures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-sas-output-delivery-system" title="Using the SAS Output Delivery System" class="md-nav__link">
    Using the SAS Output Delivery System
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>The Essentials</h1>
                
                <h2 id="getting-started-with-sas-programming">Getting Started with SAS Programming<a class="headerlink" href="#getting-started-with-sas-programming" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m411/m411_5_a_sum.htm">Chapter summary in SAS</a></p>
<h2 id="working-with-sas-programs">Working with SAS Programs<a class="headerlink" href="#working-with-sas-programs" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m412/m412_3_a_sum.htm">Chapter summary in SAS</a></p>
<p><strong><em>Comments</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cm">/* comment */</span><span class="w"></span>
<span class="o">*</span><span class="w"> </span>comment<span class="w"> </span>statement<span class="err">;</span><span class="w"></span>
</pre></div>
</td></tr></table>

<h2 id="accessing-data">Accessing Data<a class="headerlink" href="#accessing-data" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m413/m413_3_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="accessing-sas-libraries">Accessing SAS libraries<a class="headerlink" href="#accessing-sas-libraries" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>libref</strong>: library reference name (shortcut to the physical location). There are three rules for valid librefs:</li>
<li>A length of one to eight characters</li>
<li>Begin with a letter or underscore</li>
<li>The remaining characters are letters, numbers, or underscores</li>
<li>Valid variable names begin with a letter or underscore, and continue with letters, numbers, or underscores. The <strong>VALIDVARNAME</strong> system option specifies the rules for valid SAS variable names that can be created and processed during a SAS session: </li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>OPTIONS VALIDVARNAME=V7 (default) | UPCASE | ANY;
</pre></div>
</td></tr></table>

<ul>
<li><strong>libref.data-set-name</strong>: data set reference two-level name</li>
<li><strong>data-set-name</strong>: when the data set belongs to a temporary library, you can optionally use a one-level name (SAS assumes that it is contained in the <strong>work</strong> library, which is the default)</li>
<li>The <strong>LIBNAME</strong> statement associates the <strong>libref</strong> with the physical location of the library/data for the current SAS session</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LIBNAME libref-name &#39;SAS-library-folder-path&#39; &lt;options&gt;;
</pre></div>
</td></tr></table>

<p><em>Example</em></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nf">%let</span> <span class="n">path</span><span class="o">=/</span><span class="n">folders</span><span class="o">/</span><span class="n">myfolders</span><span class="o">/</span><span class="n">ecprg193</span><span class="p">;</span> 
<span class="n">libname</span> <span class="n">orion</span> <span class="s">&quot;&amp;path&quot;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<ul>
<li>To erase the association between SAS and a custom library</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LIBNAME libref-name CLEAR;
</pre></div>
</td></tr></table>

<ul>
<li>To check the <strong>contents of a library</strong> programatically</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC CONTENTS DATA=libref._ALL_;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>To hide the descriptors of all data sets in the library (it could generate a very long report) you can add the option <strong>nods</strong> (only compatible with the keybord <strong>_all_</strong>)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC CONTENTS DATA=libref._ALL_ NODS;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>To access a data set you can use a <strong>proc print</strong> step</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set;
RUN;
</pre></div>
</td></tr></table>

<h3 id="examining-sas-data-sets">Examining SAS Data Sets<a class="headerlink" href="#examining-sas-data-sets" title="Permanent link">&para;</a></h3>
<p>Parts of a library (SAS notation):</p>
<ul>
<li>Table = <strong>data set</strong></li>
<li>Column = <strong>variable</strong></li>
<li>Row = <strong>observation</strong></li>
</ul>
<p>The <strong>descriptor portion</strong> (PROC CONTENTS) contains information about the attributes of the data set (metadata), including the variable names. It is show in three tables:</p>
<ul>
<li>Table 1: general information about the data set (name, creation date/time, etc.)</li>
<li>Table 2: operating environment information, file location, etc.</li>
<li>Table 3: alphabetic list of variables in the data set and their attributes</li>
</ul>
<p>The <strong>data portion</strong> (PROC PRINT) contains the data values, stored in variables (numeric/character)</p>
<ul>
<li>Numeric values: right-aligned</li>
<li>Character values: left-aligned</li>
<li><strong>Missing values</strong>: <strong><em>blank</em></strong> for character variables and <strong><em>period</em></strong> for numeric ones. To change this default behaviour use  <code>MISSING='new-character'</code></li>
<li>Valid <strong>character values</strong>: letters, numbers, special characters and blanks</li>
<li>Valid <strong>numeric values</strong>: digits 0-9, minus sign, single decimal point, scientific notation (E)</li>
<li>Values length: for character variables 1 byte = 1 character, numeric variables have 8 bytes of storage by default (16-17 significant digits)</li>
<li>Other attributes: <strong>format</strong>, <strong>informat</strong>, <strong>label</strong></li>
</ul>
<h2 id="producing-detailed-reports">Producing Detailed Reports<a class="headerlink" href="#producing-detailed-reports" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m415/m415_4_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="subsetting-report-data">Subsetting Report Data<a class="headerlink" href="#subsetting-report-data" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set(OBS=3) NOOBS;  /* OBS=3 prints only 3 elements | NOOBS hides the &#39;Obs&#39; */
    VAR variable1 variable2 variable3;      /* prints out only this variables in the report */
    SUM variable1 variable2;                /* adds an extra line at the end with the total */
    WHERE variable3&lt;1000; variable3&lt;1000;   /* operators: &lt; &gt; &lt;= &gt;= = ^= in + - / * ** &amp; | ~ ^ ? */
    WHERE variable4 in (&#39;Child&#39;,&#39;Elder&#39;);   /* only the last WHERE condition is applied */
    WHERE variable1=20 AND variable4 CONTAINS &#39;case-sensitive-substring&#39;;  /* CONTAINS = ? */
    IDWHERE ANYALPHA(variable) NE 0         /* only values containing at least a letter */
    ID variable1                            /* replaces the &#39;Obs&#39; column by a selected variable values */
    BY variable3variable3                   /* separate in different tables for different variable values (sort first) */
RUN;
</pre></div>
</td></tr></table>

<p>Special <strong>WHERE operators</strong>:</p>
<ul>
<li><strong>BETWEEN x AND y</strong>: an inclusive range</li>
<li><strong>WHERE SAME AND</strong>: augment a previous where expression (both applied)</li>
<li><strong>IS NULL</strong>: a missing value</li>
<li><strong>IS MISSING</strong>: a missing value</li>
<li><strong>LIKE</strong>: matches a pattern (% = any number of characters, _ = one character). E.g.: 'T_m%'</li>
<li>The <strong>SOUNDS-LIKE (=*)</strong> operator selects observations that contain a spelling variation of a specified word or words. This operator uses the <em>Soundex</em> algorithm to compare the variable value and the operand.</li>
<li><a href="http://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a002194060.htm"><strong>ANYVALUE</strong></a> is an interesting function that searches a character string for an alphabetic character, and returns the first position at which the character is found</li>
</ul>
<p><strong>Note:</strong> To compare with a SAS date value you need to express is as a SAS date constant: <strong>'DDMM&lt;\YY&gt;YY'D</strong></p>
<h3 id="sorting-and-grouping-report-data">Sorting and Grouping Report Data<a class="headerlink" href="#sorting-and-grouping-report-data" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC SORT DATA=SAS-data-set
    OUT=new-SAS-data-set NODUPKEY;                                           /* optional */
    DUPOUT=work.duplicates;                                                  /* optional */
    BY ASCENDING variable1-to-be-sorted DESCENDING variable2-to-be-sorted;   /* optional (ASCENDING is the default order)*/
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>NODUPKEY</strong> option deletes observations with duplicate <strong>BY</strong> values</li>
<li><strong>DUPOUT</strong> writes duplicate observations to a separate output data set</li>
</ul>
<h3 id="enhancing-reports">Enhancing Reports<a class="headerlink" href="#enhancing-reports" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>TITLEline &#39;text&#39;;       
FOOTNOTEline &#39;text&#39;;

TITLE1 &#39;text1&#39;;
TITLE1 &#39;text1_change&#39;;     /* Change title text and also cancels all footnotes with higher numbers */
TITLE;                     /* Cancel (erase) all titles */
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>lines</strong> specifies the line (1-10) on which the title/footnote will appear (line = 1 is the default value)</li>
<li>The title/footnote will remain until you <strong>change</strong> it, <strong>cancel</strong> it or you <strong>end your SAS session</strong></li>
</ul>
<hr />
<p>Assigning <strong>temporary labels</strong> to display in the report instead of the variable names:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set LABEL;           /* you need to add the LABEL option to display the labels */ 
    LABEL variable1 = &#39;new variable1 name&#39; 
          variable2 = &#39;new variable2 name&#39;;
    LABEL variable3 = &#39;new variable3 name&#39;;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>LABEL</strong> lengths can go up to 256 characters long</li>
<li>You can specify several labels in one <strong>LABEL</strong> statement or use a separate <strong>LABEL</strong> statement for each variable</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set SPLIT=&#39;*&#39;;            /* you no longer need to add the LABEL option, SPLIT does the same work */ 
    LABEL variable1 = &#39;new variable1*long name&#39;;   /* the variable name ocuppies 2 lines now */
RUN;
</pre></div>
</td></tr></table>

<h2 id="formatting-data-values">Formatting Data Values<a class="headerlink" href="#formatting-data-values" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m416/m416_3_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="using-sas-formats">Using SAS Formats<a class="headerlink" href="#using-sas-formats" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-base;
    FORMAT FORMAT variable1 variable2 format;
    FORMAT variable3 format3 variable4 format4;
RUN;
</pre></div>
</td></tr></table>

<p>Format definition: <strong>&lt;\$&gt;<em>format</em>&lt;\w&gt;.&lt;\d&gt;</strong></p>
<ul>
<li><strong>&lt;\$&gt;</strong> = character format</li>
<li><strong><em>format</em></strong> = format name</li>
<li><strong>&lt;\w&gt;</strong> = total width (includes special characters, commas, decimal point and decimal places)</li>
<li><strong>.</strong> = required syntax (dot)</li>
<li><strong>&lt;\d&gt;</strong> = decimal places (numeric format)</li>
</ul>
<p>SAS formats (<a href="http://support.sas.com/documentation/cdl/en/leforinforref/64790/HTML/default/viewer.htm#p0z62k899n6a7wn1r5in6q5253v1.htm">Dictionary of formats</a>):</p>
<ul>
<li><strong>\$w.</strong> = writes standard character data</li>
<li><strong>\$UPCASE.</strong> = writes a string in uppercase</li>
<li><strong>\$QUOTE.</strong> = writes a string in quotation marks </li>
<li><strong>w.d</strong> = writes standard numeric data</li>
<li><strong>COMMAw.d</strong> = writes numeric values with a comma that separates every three digits and a period that separates the decimal fraction</li>
<li><strong>DOLLARw.d</strong> = writes numeric values with a leading dollar sign, a comma that separates every three digits and a period that separates the decimal fraction</li>
<li><strong>COMMAXw.d</strong> = writes numeric values with a period that separates every three digits and a coma that separates the decimal fraction</li>
<li><strong>EUROXw.d</strong> = writes numeric values with a leading euro symbol, a period that separates every three digits and a comma that separates the decimal fraction</li>
</ul>
<p>SAS date values: <strong>MMDDYY&lt;\w&gt;.</strong> / <strong>DDMMYY&lt;\w&gt;.</strong> / <strong>MONYY&lt;\w&gt;.</strong> / <strong>DATE&lt;\w&gt;.</strong> / <strong>WEEKDATE.</strong>
<em> w = 6: only date numbers
</em> w = 8: date numbers with <strong>/</strong> separators (just the last 2 digits of year)
* w = 10: date numbers with <strong>/</strong> separators (full 4-digit year)</p>
<p><strong>Note:</strong> dates before 01/01/1960 (0 value) will appear as negative numbers</p>
<h3 id="creating-and-applying-user-defined-formats">Creating and Applying User-Defined Formats<a class="headerlink" href="#creating-and-applying-user-defined-formats" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FORMAT;
    VALUE &lt;$&gt;format-name value-or-range1=&#39;formatted-value1&#39;
                         value-or-range2=&#39;formatted-value2&#39;;
RUN;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set;
    FORMAT variable1 &lt;$&gt;format-name.;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>A format name can have a maximum of <strong>32 characters</strong></li>
<li>The name of a format that applies to <strong>character values</strong> must begin with a <strong>dollar sign</strong> followed by a letter or underscore</li>
<li>The name of a format that applies to <strong>numeric values</strong> must begin with a letter or underscore</li>
<li>A format name cannot end in a number</li>
<li>All remaining characters can be letters, underscores or numbers</li>
<li>A user defined format name cannot be the name of a SAS format</li>
</ul>
<p>Each <strong>value-range set</strong> has three parts:</p>
<ul>
<li><strong>value-or-range</strong>: specifies one or more values to be formatted (it can be a value, a range or a list of values)</li>
<li><strong>=</strong>: equal sign</li>
<li><strong>formatted-value</strong>: the formatted value you want to display instead of the stored value/s (it is allways a character string no matter wheter the format applies to character values or numeric values)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FORMAT LIBRARY = my-format-library;   /* To save the custom formats */
    VALUE string &#39;A&#39;-&#39;H&#39;=&#39;First&#39;
                 &#39;I&#39;,&#39;J&#39;,&#39;K&#39;=&#39;Middle&#39;
                  OTHER = &#39;End&#39;;           /* Non-specified values */
    VALUE tiers low-&lt;50000=&#39;Tier1&#39;         /* 50000 not included */
                50000-&lt;100000=&#39;Tier2&#39;      /* 100000 not included */
                100000-high=&#39;Tier3&#39;
                .=&#39;Missing value&#39;;
RUN;
</pre></div>
</td></tr></table>

<p><strong>Note1:</strong> if you omit the <strong>LIBRARY</strong> option, then formats and informats are stored in the <strong>work.formats</strong> catalog</p>
<p><strong>Note2:</strong> if you do not includ the keyword <strong>OTHER</strong>, then SAS applies the format only to values that match the value-range sets that you specify and the rest of values are displayed as they are stored in the data set</p>
<p><strong>Note3:</strong> you can only use the <strong>&lt;</strong> symbol to define a non-inclusive range.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>OPTIONS FMTSEARCH = (libref1 libref2... librefn)
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>FMTSEARCH</strong> system option controls the order in which format catalogs are searched until the desired member is found.</li>
<li>The <strong>WORK.FORMATS</strong> catalog is always searched first, unless it appears in the <strong>FMTSEARCH</strong> list. </li>
</ul>
<h2 id="reading-sas-data-sets">Reading SAS Data Sets<a class="headerlink" href="#reading-sas-data-sets" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m417/m417_4_a_sum.htm">Chapter summary in SAS</a></p>
<p>To create a new data set that is a subset of a previous data set:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    WHERE where-expression;
    variable_name   WHERE where-expression;
    variable_name = expression;     /* new variable creation */
RUN;
</pre></div>
</td></tr></table>

<p><strong>Note1:</strong> if a missing value is involved in an arithmetic calculation the result will be a missing value too</p>
<p><strong>Note2:</strong> new variables being created in the DATA step and not contained in the original data set cannot be used in a WHERE statement</p>
<h3 id="customizing-a-sas-data-set">Customizing a SAS Data Set<a class="headerlink" href="#customizing-a-sas-data-set" title="Permanent link">&para;</a></h3>
<p>How to select a subset of the variables/observations of the original data set:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    DROP variable-list;        /* original variables to exclude */
    KEEP variable-list;        /* original variables to include + new variables */
RUN;
</pre></div>
</td></tr></table>

<p>How SAS processes the <strong>DATA</strong> step:</p>
<p><strong>Compilation phase</strong></p>
<ul>
<li>SAS scan each DATA step statement for syntax errors and converts the program into machine code if everything's alright. </li>
<li>SAS also creates the program data vector (<strong>PDV</strong>) in memory to hold the current observation.</li>
<li><strong>_N_</strong>: iteration number of the DATA step</li>
<li><strong>_ERROR_</strong>: its value is 0 is there are no errors (1 if there are some)</li>
<li>SAS creates the descriptor portion of the new data set (takes the original one, adds the new variables and flags the variables to be dropped). </li>
</ul>
<p><strong>Execution phase</strong></p>
<ul>
<li>SAS initializes the PDV to missing</li>
<li>SAS reads and processes the observations from the input data set </li>
<li>SAS creates observations in the data portion of the output data set (an implicit output/implicit return loop over all the observations that continues until EOF)</li>
</ul>
<hr />
<p>Subsetting <strong>IF</strong> statement: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    IF expression;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>When the expression is false, SAS excludes the observation from the output data set and continues processing</li>
<li>While original values can be managed with a <strong>WHERE</strong> statement as well as an <strong>IF</strong> statement, for <strong>new variable</strong> conditionals only <strong>IF</strong> can be used</li>
<li>You should subset as early as possible in your program for more efficient processing (a <strong>WHERE</strong> before an <strong>IF</strong> can make the processing more efficient).</li>
<li>In a <strong>PROC</strong> step <strong>IF</strong> statements are <strong>NOT allowed</strong></li>
</ul>
<hr />
<p>Subsetting <strong>IF-THEN/DELETE</strong> statement: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    IF expression1 or expression2 THEN DELETE;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>IF-THEN/DELETE</strong> statement eliminates the observations where the <strong>conditions are not met</strong> (on the contrary of what the <strong>IF</strong> does)</li>
<li>The <strong>DELETE</strong> statement stops processing the current observation. It is often used in a THEN clause of an IF-THEN statement or as part of a conditionally executed DO group.</li>
</ul>
<hr />
<p>Addition of several variables: <strong>Total=sum(var1, var2, var3)</strong>
Count of nonmissing values: <strong>Nonmissing=n(var1, var2, var3)</strong></p>
<h3 id="adding-permanent-attributes">Adding Permanent Attributes<a class="headerlink" href="#adding-permanent-attributes" title="Permanent link">&para;</a></h3>
<p><strong><em>Permanent variable labels</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    LABEL variable1=&#39;label1&#39;
          variable2=&#39;label2&#39;;
RUN;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=output-SAS-data-set label;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>If you use the <strong>LABEL</strong> statement in the <strong>PROC</strong> step the labels are <strong>temporary</strong> while if you use it in the <strong>DATA</strong> step, SAS <strong>permanently</strong> associates the labels to the variables</li>
<li>Labels and formats that you specify in <strong>PROC</strong> steps override the permanent labels in the current step. However, the permanent labels are not changed.</li>
</ul>
<p><strong><em>Permanent variable formats</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set;
    SET input-SAS-data-set;
    FORMAT variable1 format1
           variable2 format2;
RUN;
</pre></div>
</td></tr></table>

<h2 id="reading-spreadsheet-and-database-data">Reading Spreadsheet and Database Data<a class="headerlink" href="#reading-spreadsheet-and-database-data" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m418/m418_3_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="reading-spreadsheet-data">Reading Spreadsheet Data<a class="headerlink" href="#reading-spreadsheet-data" title="Permanent link">&para;</a></h3>
<p>To determine the SAS products that are included in your SAS license, you can run the following PROC SETINIT step:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC SETINIT;
RUN;
</pre></div>
</td></tr></table>

<hr />
<p>SAS/ACCESS LIBNAME statement (read/write/update data):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LIBNAME libref &lt;engine&gt; &lt;PATH=&gt;&quot;workbook-name&quot; &lt;options&gt;;
</pre></div>
</td></tr></table>

<p>E.g.:<br>
<strong>Default engine:</strong> <code>LIBNAME orionx excel "&amp;path/sales.xls"</code><br>
<strong>PC Files server engine:</strong> <code>LIBNAME orionx pcfiles PATH="&amp;path/sales.xls"</code><br></p>
<ul>
<li><strong>&lt;\engine&gt;</strong>: excel (if both SAS and Office are 32/64 bits), pcfiles (if the value is different)</li>
<li>The icon of the library will be different (a globe) indicating that the data is outside SAS</li>
<li>The members whose name ends with a <strong>\$</strong> are the <strong>spreadsheets</strong> while the others are named <strong>ranges</strong>. In case it has the <strong>\$</strong>, you need to refer to that Excel worksheet in a special way to account for that special character (SAS name literal): <code>libref.'worksheetname\$'n</code></li>
<li>You can use the <strong><code>VALIDVARNAME = v7</code></strong> option in SAS Enterprise Guide to cause it to behave the same as in the SAS window environment</li>
<li>Is important to disassociate the library: the workbook cannot be opened in Excel meanwhile (SAS puts a lock on the Excel file when the libref is assigned): <strong><code>LIBNAME libref CLEAR;</code></strong></li>
</ul>
<hr />
<p>Import the xls data:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC IMPORT DATAFILE=&quot;/folders/myfolders/reading_test.xlsx&quot;
            OUT=work.myexcel
            DBMS=xlsx 
            REPLACE;
RUN;
</pre></div>
</td></tr></table>

<h3 id="reading-database-data">Reading Database Data<a class="headerlink" href="#reading-database-data" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LIBNAME libref engine &lt;SAS/ACCESS options&gt;;
</pre></div>
</td></tr></table>

<ul>
<li><strong>engine</strong>: oracle or BD2</li>
<li><strong>SAS/ACCESS options</strong>: USER, PASSWORD/PW, PATH (specifies the Oracle driver, node and database), SCHEMA (enables you to read database objects such as tables and views)</li>
</ul>
<h2 id="reading-raw-data-files">Reading Raw Data Files<a class="headerlink" href="#reading-raw-data-files" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m419/m419_5_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="introduction-to-reading-raw-data-files">Introduction to Reading Raw Data Files<a class="headerlink" href="#introduction-to-reading-raw-data-files" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Raw data files</strong> are not software specific</li>
<li>A <strong>delimited raw data file</strong> is an external text file in which the values are separated by spaces or other special characters.</li>
<li>A <strong>list input</strong> will be used to work with delimited raw data files that contain standard and/or nonstandard data</li>
<li><strong>Standard data</strong> is data that SAS can read without any special instructions</li>
<li><strong>Nonstandard data</strong> includes values like dates or numeric values that include special characters like dollar signs (extra instructions needed)</li>
</ul>
<h3 id="reading-standard-delimited-data">Reading Standard Delimited Data<a class="headerlink" href="#reading-standard-delimited-data" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA output-SAS-data-set-name;
    LENGTH variable(s) &lt;$&gt; length;
    INFILE &#39;raw-data-file-name&#39; DLM=&#39;delimiter&#39;;  
    INPUT variable1 &lt;$&gt; variable2 &lt;$&gt; ... variableN &lt;$&gt;;    /* $ = character variables */     
RUN;
</pre></div>
</td></tr></table>

<p><strong>E.g.:</strong><br></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA work.sales1;
    LENGTH First_Name Last_Name $ 12 Gender $ 1;
    INFILE &#39;&amp;path/sales.csv&#39; DLM=&#39;,&#39;;  
    INPUT Employee_ID Gender $ Salary $ Job_Title $ Country $; 
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>With <strong>list input</strong>, the default length for all variables is 8 bytes</li>
<li>SAS uses an <strong>input buffer</strong> only if the input data is a raw data file</li>
<li>The variable names will appear in the report as stated in the <strong>LENGTH</strong> statement (watch out the uppercase/lowercase)</li>
<li>The <strong>LENGTH</strong> statement must precede the <strong>INPUT</strong> statement in order to correctly set the length of the variable</li>
<li>The variables not specified in the <strong>LENGTH</strong> statement will appear at the end of the table. If you want to keep the original order you should include all variables even if you want them to have the defaul length (8)</li>
</ul>
<h3 id="reading-nonstandard-delimited-data">Reading Nonstandard Delimited Data<a class="headerlink" href="#reading-nonstandard-delimited-data" title="Permanent link">&para;</a></h3>
<p>You can use a <strong>modified list input</strong> to read all of the fields from a raw data file (including nonstandard variables)</p>
<ul>
<li>Informats are similar to formats except that <strong>formats</strong> provide instruction on how to <strong>write</strong> a value while <strong>informats</strong> provide instruction on how to <strong>read</strong> a value</li>
<li>The <strong>colon format modifier (:)</strong> causes SAS to read up to the delimiter</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INPUT variable &lt;$&gt; variable &lt;:informat&gt;;
</pre></div>
</td></tr></table>

<p><strong>E.g.:</strong><br></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>:date.
:mmddyy.
</pre></div>
</td></tr></table>

<ul>
<li><strong>COMMA./DOLLAR.</strong>: reads nonstandard numeric data and removes embedded commas, blanks, dollar sign, percent signs and dashes</li>
<li><strong>COMMAX./DOLLARX.</strong>: reads nonstandard numeric data and removes embedded non-numeric characters; reverses the roles of the decima point and the comma</li>
<li><strong>EUROX.</strong>: reads nonstandard numeric data and removes embedded non-numeric characters in European currency</li>
<li><strong>\$CHAR.</strong>: reads character values and preserves leading blanks</li>
<li><strong>\$UPCASE.</strong>: reads character values and converts them to uppercase</li>
</ul>
<hr />
<ul>
<li>You cannot use a <strong>WHERE</strong> statement when the input data is a raw data file instead of a SAS data set</li>
</ul>
<hr />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA (...);
    INFILE DATALINES DLM=&#39;,&#39;;   /* only if datalines are delimited */
    INPUT (...);
    DATALINES;
    &lt;instream data&gt;
    ;
    INPUT (...);
    DATALINES;
&lt;instream data&gt;
;
</pre></div>
</td></tr></table>

<ul>
<li>The null statement (<strong>;</strong>) indicates the end of the input data</li>
<li>You precede the instream data with the <em>DATALINES</em> statement and follow it with a null statement</li>
<li>The instream data should be the <strong>last part of the DATA step</strong> except for a null statement</li>
</ul>
<p><strong>E.g.:</strong><br></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA work.managers;
   infile datalines dlm=&#39;/&#39;;
   input ID First :$12. Last :$12. Gender $ Salary :comma. 
            Title :$25. HireDate :date.;
   datalines;
120102/Tom/Zhou/M/108,255/Sales Manager/01Jun1993
120103/Wilson/Dawes/M/87,975/Sales Manager/01Jan1978
120261/Harry/Highpoint/M/243,190/Chief Sales Officer/01Aug1991
121143/Louis/Favaron/M/95,090/Senior Sales Manager/01Jul2001
121144/Renee/Capachietti/F/83,505/Sales Manager/01Nov1995
121145/Dennis/Lansberry/M/84,260/Sales Manager/01Apr1980
;

title;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>title &#39;Orion Star Management Team&#39;;
proc print data=work.managers noobs;
   format HireDate mmddyy10.;
run;
title;
</pre></div>
</td></tr></table>

<h3 id="validating-data">Validating Data<a class="headerlink" href="#validating-data" title="Permanent link">&para;</a></h3>
<p>When SAS encounters a data error, it prints messages and a ruler in the log and assigns a missing value to the affected variable. Then SAS continues processing.</p>
<hr />
<p><strong><em>Missing values between delimiters (consecutive delimiters)</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INFILE &#39;raw-data-file-name&#39; &lt;DLM=&gt; DSD;
</pre></div>
</td></tr></table>

<p>The <strong>DSD</strong> option sets the default delimiter to a comma, treats consecutive delimiters as missing values and enables SAS to read values with embedded delimiters if the value is surrounded by quotation marks</p>
<hr />
<p><strong><em>Missing values at the end of a line</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INFILE &#39;raw-data-file-name&#39; MISSOVER;
</pre></div>
</td></tr></table>

<p>With the <strong>MISSOVER</strong> option, if SAS reaches the end of a record without finding values for all fields, variables without values are set to <em>missing</em>.</p>
<h2 id="manipulating-data">Manipulating Data<a class="headerlink" href="#manipulating-data" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m421/m421_5_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="using-sas-functions">Using SAS Functions<a class="headerlink" href="#using-sas-functions" title="Permanent link">&para;</a></h3>
<p><strong><em>SUM function</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>SUM(argument1, argument2, ...)
</pre></div>
</td></tr></table>

<ul>
<li>The arguments must be numeric values</li>
<li>The <strong>SUM</strong> function ignores missing values, so if an argument has a missing value, the result of the SUM function is the sum of the nonmissing values</li>
<li>If you add two values by <strong>+</strong>, if one of them is missing, the result will be a missing value which makes the <strong>SUM</strong> function a better choice</li>
</ul>
<hr />
<p><strong><em>DATE funtion</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>YEAR(SAS-date)     
QTR(SAS-date)
MONTH(SAS-date)
DAY(SAS-date)
WEEKDAY(SAS-date)
TODAY()                /* Obtain the current date and convert to SAS-date (no argument) */
DATE()                 /* Obtain the current date and convert to SAS-date (no argument) */
MDY(month, day, year)
</pre></div>
</td></tr></table>

<ul>
<li>The arguments must be numeric values (except from <strong>TODAY()</strong> and <strong>DATE()</strong> functions)</li>
<li>You can subtract dates: <strong>Agein2012=(Bday2012-Birth_Date)/365.25;</strong></li>
</ul>
<hr />
<p><strong><em>Concatenation function</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>CATX(&#39; &#39;, First_Name, Last_Name)
</pre></div>
</td></tr></table>

<p>The <strong>CATX</strong> function removes leading and trailing blanks, inserts delimiters, and returns a concatenated character string. In the code, you first specify a character string that is used as a delimiter between concatenated items.</p>
<hr />
<p><strong><em>Time interval function</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INTCK(&#39;year&#39;, Hire_Date, &#39;01JAN2012&#39;d)
</pre></div>
</td></tr></table>

<p>The <strong>INTCK</strong> function returns the number of interval boundaries of a given kind that lie between the two dates, times, or datetime values. In the code, you first specify the interval value.</p>
<hr />
<p><strong><em>What happens if you use a variable to describe a new one that you are gonna DROP in that same DATA statement?</em></strong></p>
<p>The <strong>DROP</strong> statement is a compile-time-only statement. SAS sets a drop flag for the dropped variables, but the variables are in the PDV and, therefore, are available for processing.</p>
<h3 id="conditional-processing">Conditional Processing<a class="headerlink" href="#conditional-processing" title="Permanent link">&para;</a></h3>
<p><strong><em>IF-THEN-ELSE conditional structures</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>IF expression THEN statement;
ELSE IF expression THEN statement;
ELSE statement;
</pre></div>
</td></tr></table>

<p>In the conditional expressions involving strings watch out for possible mixed case values where the condition may not be met:  <strong>Country = upcase(Country);</strong> to avoid problems</p>
<hr />
<p><strong><em>Executing multiple statements in an IF-THEN-ELSE statement</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>IF expression THEN
    DO;
        executable statements;
    END;
ELSE IF expression THEN
    DO;
        executable statements;
    END;
</pre></div>
</td></tr></table>

<hr />
<p>In the <strong>DATA</strong> step, the first reference to a variable determines its length. The first reference to a new variable can be in a <strong>LENGTH</strong> statement, an <strong>assignment</strong> statement, or <strong>another</strong> statement such as an INPUT statement. After a variable is created in the PDV, the length of the variable's first value doesn't matter. </p>
<p>To avoid truncation in a variable defined inside a conditional structure you can:</p>
<ul>
<li>Define the longer string as the first condition</li>
<li>Add some blanks at the end of shorter strings to fit the longer one</li>
<li>Define the length explicitly before any other reference to the variable</li>
</ul>
<hr />
<p><strong><em>SELECT group</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>SELECT(Gender);
      WHEN(&#39;F&#39;) DO;
         Gift1=&#39;Scarf&#39;;
         Gift2=&#39;Pedometer&#39;;
      END;
      WHEN(&#39;M&#39;) DO;
         Gift1=&#39;Gloves&#39;;
         Gift2=&#39;Money Clip&#39;;
      END;
      OTHERWISE DO;
         Gift1=&#39;Coffee&#39;;
         Gift2=&#39;Calendar&#39;;
      END;
END;
</pre></div>
</td></tr></table>

<ul>
<li>The <strong>SELECT</strong> statement executes one of several statements or groups of statements</li>
<li>The <strong>SELECT</strong> statement begins a SELECT group. They contain <strong>WHEN</strong> statements that identify SAS statements that are executed when a particular condition is true</li>
<li>Use at least one <strong>WHEN</strong> statement in a SELECT group</li>
<li>An optional <strong>OTHERWISE</strong> statement specifies a statement to be executed if no <strong>WHEN</strong> condition is met</li>
<li>An <strong>END</strong> statement ends a <strong>SELECT</strong> group</li>
</ul>
<h2 id="combining-sas-data-sets">Combining SAS Data Sets<a class="headerlink" href="#combining-sas-data-sets" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m421/m421_5_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="concatenating-data-sets">Concatenating Data Sets<a class="headerlink" href="#concatenating-data-sets" title="Permanent link">&para;</a></h3>
<p><strong><em>Combine files vertically by concatenating</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    SET SAS-data-set1 SAS-data-set2 ...;
RUN;
</pre></div>
</td></tr></table>

<p><strong><em>Combine two different variables that are actually the same one</em></strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    SET SAS-data-set1 (RENAME=(old-name1 = new-name1 old-name2 = new-name2)) SAS-data-set2 ...;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>The name change affects the PDV and the output data set, but has no effect on the input data set</li>
<li>The <strong>variable attributes</strong> are assigned from the <strong>first data set</strong> in the SET statement</li>
<li>You will get an <strong>error</strong> in the DATA step if a variable is defined with <strong>different data types</strong> in the files that you are trying to concatenate</li>
</ul>
<h3 id="merging-sas-data-sets-one-to-one">Merging SAS Data Sets One-to-One<a class="headerlink" href="#merging-sas-data-sets-one-to-one" title="Permanent link">&para;</a></h3>
<p><strong><em>Combine files horizontally by merging</em></strong></p>
<ul>
<li>The <strong>match-merging</strong> is a process based on the values of common variables</li>
<li>Data sets are merged in the order that they appear in the MERGE statement</li>
<li>You may need to <strong>SORT</strong> the files by the <strong>BY-variable(s)</strong> before merging the files</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    MERGE SAS-data-set1 (RENAME=(old-name1 = new-name1 ...)) SAS-data-set2 ...;
    BY &lt;DESCENDING&gt; BY-variable(s);
    &lt;additional SAS statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>In a <strong>one-to-one</strong> relationship, a single observastion in one data set is related to one, and only one, observation in another data set based on the values of one or more common variables</li>
<li>In a <strong>one-to-many</strong> relationship, a single observation in one data set is related to one or more observations in another data set</li>
<li>In a <strong>many-to-one</strong> relationship, multiple observations in one data set are related to one observation in another data set</li>
<li>In a <strong>many-to-many</strong> relationship, multiple observations in one data set are related to multiple observations in another data set</li>
<li>Sometimes the data sets have <strong>non-matches</strong>: at least one observation in one of the data sets is unrelated to any observation in another data set based on the values of one or more common variables</li>
</ul>
<h3 id="merging-sas-data-sets-one-to-many">Merging SAS Data Sets One-to-Many<a class="headerlink" href="#merging-sas-data-sets-one-to-many" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    MERGE SAS-data-set1 SAS-data-set2 ...;
    BY &lt;DESCENDING&gt; BY-variable(s);
    &lt;additional SAS statements&gt;
RUN;
</pre></div>
</td></tr></table>

<p><em>In a <strong>one-to-many merge</strong>, does it matter which data set is listed first in the MERGE statement?</em></p>
<p>When you reverse the order of the data sets in the MERGE statement, the results are the same, but the order of the variables is different. SAS performs a <strong>many-to-one merge</strong>.</p>
<hr />
<p><strong>MERGENOBY</strong> (= NOWARN (default) | WARN | ERROR) controls whether a message is issued when MERGE processing occurs without an associated BY statement</p>
<ul>
<li>Performing a merge without a BY statement merges the observations based on their positions</li>
<li>This is almost never done intentionally and can lead to unexpected results</li>
</ul>
<h3 id="merging-sas-data-sets-that-have-non-matches">Merging SAS Data Sets that Have Non-Matches<a class="headerlink" href="#merging-sas-data-sets-that-have-non-matches" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    MERGE SAS-data-set1 SAS-data-set2 ...;
    BY &lt;DESCENDING&gt; BY-variable(s);
    &lt;additional SAS statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>After the merging, the output data set contains <strong>both matches and non-matches</strong></li>
<li>You want the new data set to contain only the observations that match across the input data sets, and not those ones that are missing in one of the data sets that you are merging</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    MERGE SAS-data-set1 (IN=variable1) 
          SAS-data-set2 (IN=variable2) ...;
    BY &lt;DESCENDING&gt; BY-variable(s);
    &lt;additional SAS statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>When you spefify the <strong>IN</strong> option after an input data set in the MERGE statement, SAS creates a <strong>temporary numeric variable</strong> that indicates whether the data set contributed data to the current observation (0 = it did not contribute to the current observation, 1 = it did contribute)</li>
<li>These variables are only available <strong>during execution</strong></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-data-set;
    MERGE SAS-data-set1 (IN=variable1) 
          SAS-data-set2 (IN=variable2) ...;
    BY &lt;DESCENDING&gt; BY-variable(s);
    IF variable1 = 1 and variable2 = 1;     /* write only matches */
    &lt;additional SAS statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li><strong><em>Matches</em></strong></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>IF variable1 = 1 and variable2 = 1 
IF variable1 and variable2
</pre></div>
</td></tr></table>

<ul>
<li><strong><em>Non-matches from either data set</em></strong></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>IF variable1 = 0 or not variable2 = 0
IF not variable1 or not variable2`
</pre></div>
</td></tr></table>

<p><strong><em>E.g.:</em></strong><br></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA SAS-new-data-set1 SAS-new-data-set2;
    MERGE SAS-data-set1 (in=var1) SAS-data-set2 (in=var2);
    BY BY-variable(s);
    IF var2 THEN OUTPUT SAS-new-data-set1;
    ELSE IF var1 and not var2 THEN OUTPUT SAS-new-data-set2;
    KEEP variable1 variable2 variable5 variable8;
run;
</pre></div>
</td></tr></table>

<h2 id="creating-summary-reports">Creating Summary Reports<a class="headerlink" href="#creating-summary-reports" title="Permanent link">&para;</a></h2>
<p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m422/m422_5_a_sum.htm">Chapter summary in SAS</a></p>
<h3 id="using-proc-freq-to-create-summary-reports">Using PROC FREQ to Create Summary Reports<a class="headerlink" href="#using-proc-freq-to-create-summary-reports" title="Permanent link">&para;</a></h3>
<ul>
<li>When you're summarizing data, there's no need to show a frequency distribution for variables that have a large number of distinct values</li>
<li>Frequency distributions work best with variables whose values meet two criteria: variable with <strong>categorical values</strong> and values are <strong>best summarized by counts instead of averages</strong></li>
<li>Variables that have continuous numerical values, such as dollar amounts and dates, will need to be <strong>grouped into categories</strong> by <strong>applying formats</strong> inside the PROC FREQ step (substitute an specific range of those values by a tag)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set &lt;option(s)&gt;;
    TABLES variable(s) &lt;loption(s)&gt;;
    &lt;additional statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li><strong>PROC FREQ</strong> produces frequency tables that report the distribution of any or all variable values in a SAS data set</li>
<li>In the <strong>TABLE</strong> statement you specify the frequency tables to produce </li>
<li>To create <strong>one-way</strong> frequency tables you specify one or more variable names separated by space</li>
<li><strong>WATCH OUT</strong>: if you omit the <strong>TABLE</strong> statement, SAS produces a one-way table for every variable in the data set</li>
<li>The <strong>PROC FREQ</strong> step automatically displays output in a report, so you don't need to add a PROC PRINT step </li>
<li>Each unique variable's value displayed in the 1<sup>st</sup> column of the output is called a <strong>level of the variable</strong></li>
</ul>
<hr />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set &lt;option(s)&gt;;
    TABLES variable/NOCUM NOPERCENT;
    &lt;additional statements&gt;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li><strong>NOCUM</strong> option supresses the display of  the cummulative frequency and cummulative percent values </li>
<li><strong>NOPERCENT</strong> option supresses the display of all percentages</li>
</ul>
<hr />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC SORT DATA=SAS-data-set
    OUT=SAS-data-set-sorted;
    BY variable_sorted;
RUN;

PROC FREQ DATA=SAS-data-set-sorted;
    TABLES variable-freq;
    BY variable_sorted;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>Whenever you use the <strong>BY</strong> statement, the data set must be sorted by the variable named in the statement</li>
<li>Using this we will get a frequency table on <strong><code>variable_freq</code></strong> for each value of <strong><code>variable_sorted</code></strong></li>
</ul>
<hr />
<p><strong><em>Crosstabulation tables</em></strong></p>
<ul>
<li>Sometimes it is useful to view a single table with statistics for each distintic combination of values of the selected variables</li>
<li>The simplest crosstabulation table is a <strong>two-way table</strong></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set;
    TABLES variable1 * variable2 / NOFREQ NOPERCENT NOROW NOCOL;
RUN;

variable1 = table rows
variable2 = table columns
</pre></div>
</td></tr></table>

<p>Information contained in crosstabulation tables (legend):</p>
<ul>
<li><strong>Frequency</strong>: indicates the number of observations with the unique combination of values represented in that cell</li>
<li><strong>Percent</strong>: indicates the cell's percentage of the total frequency</li>
<li><strong>Row Pct</strong>: cell's percentage of the total frequency for its row</li>
<li><strong>Col Pct</strong>: cell's percentage of the total frequency for its column 
<br><br></li>
<li><strong>LIST</strong> option format: the first two columns specify each possible combination of the two variables; it displays the same statistics as the default <strong>one-way frequency</strong> table</li>
<li><strong>CROSSLIST</strong> option format: it displays the same statistics as the default <strong>crosstabulation</strong> table</li>
</ul>
<hr />
<p>The <strong>FORMAT=</strong> option allows you to format the frequency value (to any SAS numeric format or a user-defined numeric format while its length is not more than 24) and to change the width of the column (e.g. to allow variable labels to fit in one line). </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set;
    TABLES variable1 * variable2 /
    FORMAT = &lt;w&gt;.;
    FORMAT variable1 $format-name.;    
RUN;
</pre></div>
</td></tr></table>

<p>The <strong>FORMAT=</strong> option applies only to crosstabulation tables displayed in the default format. It doesn't apply to crosstabulation tables produced with the <strong>LIST</strong>/<strong>CROSSLIST</strong> option</p>
<h3 id="using-proc-freq-for-data-validation">Using PROC FREQ for Data Validation<a class="headerlink" href="#using-proc-freq-for-data-validation" title="Permanent link">&para;</a></h3>
<p>You can use a <strong>PROC FREQ</strong> step with the <strong>TABLES</strong> statement to detect invalud numeric and character data by looking at distinct values. The <strong>FREQ</strong> procedure <strong>lists all discrete values</strong> for a variable and <strong>reports its missing values</strong>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set &lt;ORDER=FREQ&gt;;
    TABLES variable;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>You can check for non-expected variable's values</li>
<li>You can check for missing values</li>
<li>You can find duplicated values</li>
</ul>
<hr />
<p>The table showing the <strong>Number of Variable Levels</strong> can indicate whether a variable contains duplicate/missing/non-expected values:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set NLEVELS;
    TABLES variable / NOPRINT;
RUN;
</pre></div>
</td></tr></table>

<hr />
<p>You can use a <strong>WHERE</strong> statement to print out only the invalid values to be checked:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC PRINT DATA=SAS-data-set;
    WHERE gender NOT IN (&#39;F&#39;,&#39;M&#39;) OR
          job_title IS NULL OR
          salary NOT BETWEEN 24000 AND 500000 OR
          employee IS MISSING;
RUN;
</pre></div>
</td></tr></table>

<hr />
<p>You can output the tables to a new data set instead of displaying it:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC FREQ DATA=SAS-data-set NOPRINT;
   TABLE variable / OUT=SAS-new-data-set;
RUN;
</pre></div>
</td></tr></table>

<h3 id="using-the-means-and-univariate-procedures">Using the MEANS and UNIVARIATE Procedures<a class="headerlink" href="#using-the-means-and-univariate-procedures" title="Permanent link">&para;</a></h3>
<p><strong>PROC MEANS</strong> produces summary reports with descriptive statistics and you can create statistics for groups of observations</p>
<ul>
<li>It automatically displays output in a report and you can also save the output in a SAS data set</li>
<li>It reports the <strong>number of nonmissing values</strong> of the analysis variable (N), and the <strong>mean</strong>, the <strong>standard deviation</strong> and <strong>minimum/maximum values</strong> of every numeric variable in the data set</li>
<li>The variables in the <strong>CLASS</strong> statement are called <strong>classification variables</strong> or <strong>class variables</strong> (they typically have few discrete values)</li>
<li>Each combination of class variable values is called a <strong>class level</strong></li>
<li>The data set <strong>doesn't need to be sorted</strong> or indexed by the class variables</li>
<li><strong>N Obs</strong> reports the number of observations with each unique combination of class variables, whether or not there are missing values (if these <strong>N Obs</strong> are identical to <strong>N</strong>, there are no missing values in you data set)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC MEANS DATA=SAS-data-set &lt;statistic(s)&gt;;
    VAR analysis-variable(s);
    CLASS classification-variable(s);
RUN;
</pre></div>
</td></tr></table>

<p>To write the report in a new data set (including total addition):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC MEANS DATA=SAS-data-set NOPRINT NWAY;
    OUTPUT OUT=SAS-new-data-set SUM=addition-new-variable;
    VAR analysis-variable(s);
    CLASS classification-variable(s);
RUN;
</pre></div>
</td></tr></table>

<p>Format options: </p>
<ul>
<li><strong>MAXDEC=number</strong> (default format = BESTw.) </li>
<li><strong>NONOBS</strong></li>
<li><strong>FW=number</strong>: specifies that the field width for all columns is <em>number</em></li>
<li><strong>PRINTALLTYPES</strong>: displays statistics for all requested combination of class variables</li>
</ul>
<p><img alt="Descriptive statistics" src="https://lh3.googleusercontent.com/R84N_PMRcXBBgDksyuhN6i--5J_vun1oLe5CRgMIvZdFZNSbSAxMkrKzCo5z7Zn_2aPnoFY=s0" title="Descriptive statistics" />
<img alt="Quantile statistics" src="https://lh3.googleusercontent.com/aQuAOJzy4JgnaWUPOUwU80TvOp9DeQXr3Iesbw1EVHVJrZKjUw-TC4S27Mhd6Dt8NJ7V7j4=s0" title="Quantile statistics" /></p>
<hr />
<p><strong><em>Alternative procedure to validate data: </em></strong> <strong>PROC MEANS</strong></p>
<ul>
<li>The <strong>MIN</strong>/<strong>MAX</strong> values can be useful to check if the data is within a range</li>
<li><strong>NMISS</strong> option displays the number of observations with missing values</li>
</ul>
<hr />
<p><strong><em>Alternative procedure to validate data: </em></strong> <strong>PROC UNIVARIATE</strong></p>
<p><strong>PROC UNIVARIATE</strong> is a procedure that is useful for detecting data outliers that also produces summary reports of <strong>descriptive statistics</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC UNIVARIATE DATA=SAS-data-set;
    VAR variable(s);
    ID variable_to_relate;
    HISTOGRAM variables <span class="nt">&lt;/options&gt;</span>;
    PROBPLOT variables <span class="nt">&lt;/options&gt;</span>;
    INSET keywords <span class="nt">&lt;/options&gt;</span>;
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>If you omit the <strong>VAR</strong> statement, all numeric variables in the data set are analyzed</li>
<li>The <strong>Extreme Observations</strong> table contains useful information to locate outliers: it displays the 5 lowest/highest values by default along with the corresponding observation number. The <strong>ID</strong> statement specifies that SAS will use this variable as a label in the table of extreme observations and as an identifier for any extreme.</li>
<li>To specify the number of listed observations you can use <strong>NEXTROBS=</strong></li>
<li><strong>HISTOGRAM/PROBPLOT</strong> options: normal(mu=est sigma=est) creates a normal curve overlay to the histogram using the estimates of the population mean and standard deviation</li>
<li><strong>INSET</strong> writes a legend for the graph. <code>/ position=ne</code> moves the <strong>INSET</strong> to the north-east corner of the graph.</li>
</ul>
<p>To include in the report only one of the automatically produced tables:</p>
<p>1) Check the specific table name in the <strong>LOG information</strong> using <strong>ODS TRACE</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ODS TRACE ON;
PROC UNIVARIATE DATA=SAS-data-set;
    VAR variable(s);
RUN;
ODS TRACE OFF;
</pre></div>
</td></tr></table>

<p>2) Select the wanted table with <strong>ODS SELECT</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ODS SELECT ExtremeObs;
PROC UNIVARIATE DATA=SAS-data-set;
    VAR variable(s);
RUN;
</pre></div>
</td></tr></table>

<hr />
<p><strong><em>SUMMARY of validation procedures</em></strong></p>
<p><img alt="Validation procedures" src="https://lh3.googleusercontent.com/qa02E3GQU_EU1ZHWX40Ewy-WsXd7hmzfJ5HXBOCDvHrtxRGjrlh6R3hjEupj5Ul9mDreXO8=s0" title="Validation procedures" /></p>
<h3 id="using-the-sas-output-delivery-system">Using the SAS Output Delivery System<a class="headerlink" href="#using-the-sas-output-delivery-system" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ODS destination FILE=&quot;filename&quot; &lt;options&gt;;
    &lt;SAS code to generate the report&gt;
ODS destination CLOSE;
</pre></div>
</td></tr></table>

<ul>
<li>You can have multiple destinations open and execute multiple procedures</li>
<li>All generated output will be sent to every open destination</li>
<li>You might not be able to view the file, or the most updated file, outside of SAS until you close the destination</li>
</ul>
<p><strong>E.g.:</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">ODS</span> <span class="nt">pdf</span> <span class="nt">FILE</span><span class="o">=</span><span class="s2">&quot;C:/output/test.pdf&quot;</span><span class="o">;</span>
<span class="o">(...)</span>
<span class="nt">ODS</span> <span class="nt">pdf</span> <span class="nt">CLOSE</span><span class="o">;</span>

<span class="nt">ODS</span> <span class="nt">csvall</span> <span class="nt">FILE</span><span class="o">=</span><span class="s2">&quot;C:/output/test.cvs&quot;</span><span class="o">;</span>
<span class="nt">ODS</span> <span class="nt">rtf</span> <span class="nt">FILE</span><span class="o">=</span><span class="s2">&quot;C:/output/test.rtf&quot;</span><span class="o">;</span>
<span class="o">(...)</span>
<span class="nt">ODS</span> <span class="nt">csvall</span> <span class="nt">CLOSE</span><span class="o">;</span>
<span class="nt">ODS</span> <span class="nt">rtf</span> <span class="nt">CLOSE</span><span class="o">;</span>
</pre></div>
</td></tr></table>

<p><strong><em>Allowed file formats and their corresponding destinations:</em></strong>
<img alt="SAS Output Delivery System" src="https://lh3.googleusercontent.com/p3gAmRNbwqP8WfUOSKCLxTA042D3e_F9OUkxYJ0XHspC7MAfzfAnK0ghvpLZQXJWNWdbPd0=s0" title="SAS Output Delivery System" /></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Gettin' Started!" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Gettin' Started!
              </span>
            </div>
          </a>
        
        
          <a href="../statistics/introduction/" title="Introduction to Statistics" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction to Statistics
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../js/mathjaxhelper.js"></script>
      
    
    
      
    
  </body>
</html>